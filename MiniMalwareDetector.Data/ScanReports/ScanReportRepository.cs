using MiniMalwareDetector.Core.ScanReports;
using MiniMalwareDetector.Core.ScanReports.Repository;

namespace MiniMalwareDetector.Data.ScanReports;

public class ScanReportRepository : IScanReportRepository
{
    private static List<ScanReportModel> _scanReportStorage = new List<ScanReportModel>();
    
    public ScanReport Create(List<Guid> scanRulesId)
    {
        var entity = new ScanReportModel()
        {
            Id = Guid.NewGuid(),
            ScanRulesId = scanRulesId
        };
        
        _scanReportStorage.Add(entity);
        return new ScanReport()
        {
            Id = entity.Id,
            StartTime = entity.StartTime,
            EndTime = entity.EndTime,
            IsComplete = entity.IsComplete,
            ScanRulesId = entity.ScanRulesId,
            FileReportsId = entity.FileReportsId
        };
    }
}